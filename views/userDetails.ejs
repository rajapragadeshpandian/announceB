<!-- <h1> Details page</h1>

<% if (email) { %>
    <p style="color : red"><%= email %></p>
    <% } %>

<style>
.fieldWrapper{
    padding:20px;
}
.label {
padding : 20px 0px;
}
</style>

<form action="/auth/create/user" method="post">
    <div class="fieldWrapper">
            <div class="label"><label>Name :</label></div>
            <input type="name" name="name" placeholder="name" class="name" required />
            </div>
            <div class="fieldWrapper">
    <div class="label"><label>Email :</label></div>
    <input type="email" name="email" placeholder="email" class="email" readonly value=<%= email || "" %>></input>
    </div>
    <div class="fieldWrapper">
            <div class="label"><label>password :</label></div>
    <input type="password" name="password" class="password" placeholder="password" required />
    </div>
    <div class="fieldWrapper">
            <button type="submit">Create</button>
    </div>
    </form> -->

    <html>
    <head>
         <link href= "/css/styles.css" rel="stylesheet" type="text/css" />   
        
    </head>
    <body>

    <div class="container center">
        <div class="main center">
                <div  class="signup center" style="height: 600px">
                    <div class="form" >   
                            <svg xmlns="http://www.w3.org/2000/svg" width="106" height="28" viewBox="0 0 106 28" fill="none">
                                <path d="M31.8362 16.6902C31.7702 16.6902 31.6172 16.6902 31.3772 16.6902C31.1432 16.6842 30.9482 16.6782 30.7922 16.6722L29.8382 19.6782C29.7182 19.7082 29.5862 19.7262 29.4422 19.7322C29.2982 19.7442 29.1542 19.7502 29.0102 19.7502C28.6562 19.7502 28.3442 19.7082 28.0742 19.6242L28.0202 19.5342L32.0792 7.36625C32.2292 7.34225 32.4122 7.32425 32.6282 7.31225C32.8442 7.30025 33.0332 7.29425 33.1952 7.29425C33.3452 7.29425 33.5282 7.30025 33.7442 7.31225C33.9602 7.32425 34.1342 7.34525 34.2662 7.37525L38.3072 19.5432C38.1692 19.6272 37.9982 19.6872 37.7942 19.7232C37.5962 19.7652 37.3952 19.7862 37.1912 19.7862C36.8852 19.7862 36.6482 19.7172 36.4802 19.5792C36.3122 19.4412 36.1682 19.1712 36.0482 18.7692L35.3822 16.6722C35.2262 16.6782 35.0252 16.6842 34.7792 16.6902C34.5332 16.6902 34.3772 16.6902 34.3112 16.6902H31.8362ZM32.3222 11.8662L31.2872 15.1152C31.4252 15.1152 31.5932 15.1122 31.7912 15.1062C31.9952 15.1002 32.1332 15.0972 32.2052 15.0972H33.9962C34.0622 15.0972 34.1882 15.1002 34.3742 15.1062C34.5662 15.1062 34.7372 15.1092 34.8872 15.1152L34.0592 12.5142C33.8972 11.9922 33.7292 11.4402 33.5552 10.8582C33.3872 10.2702 33.2432 9.73925 33.1232 9.26525H33.0242C32.9342 9.66725 32.8172 10.1202 32.6732 10.6242C32.5352 11.1222 32.4182 11.5362 32.3222 11.8662ZM40.7521 10.6962C41.3521 10.6962 41.7181 10.9992 41.8501 11.6052C42.1501 11.2992 42.5101 11.0472 42.9301 10.8492C43.3561 10.6452 43.8181 10.5432 44.3161 10.5432C45.0001 10.5432 45.5701 10.7352 46.0261 11.1192C46.4881 11.5032 46.8331 12.0402 47.0611 12.7302C47.2951 13.4142 47.4121 14.2062 47.4121 15.1062C47.4121 16.1802 47.2441 17.0652 46.9081 17.7612C46.5721 18.4572 46.1401 18.9732 45.6121 19.3092C45.0841 19.6452 44.5321 19.8132 43.9561 19.8132C43.5721 19.8132 43.2091 19.7592 42.8671 19.6512C42.5311 19.5372 42.2071 19.3932 41.8951 19.2192V22.3512C41.8951 22.7652 41.8231 23.0652 41.6791 23.2512C41.5411 23.4432 41.2771 23.5392 40.8871 23.5392H40.1851L40.0681 23.4222V10.8132L40.1851 10.6962H40.7521ZM43.8841 12.0912C43.5601 12.0912 43.2181 12.1872 42.8581 12.3792C42.4981 12.5652 42.1771 12.8622 41.8951 13.2702V17.6622C42.1711 17.8422 42.4621 17.9982 42.7681 18.1302C43.0741 18.2622 43.3861 18.3282 43.7041 18.3282C44.2081 18.3282 44.6341 18.0672 44.9821 17.5452C45.3361 17.0172 45.5131 16.2042 45.5131 15.1062C45.5131 14.0322 45.3511 13.2612 45.0271 12.7932C44.7031 12.3252 44.3221 12.0912 43.8841 12.0912ZM50.297 10.6962C50.897 10.6962 51.263 10.9992 51.395 11.6052C51.695 11.2992 52.055 11.0472 52.475 10.8492C52.901 10.6452 53.363 10.5432 53.861 10.5432C54.545 10.5432 55.115 10.7352 55.571 11.1192C56.033 11.5032 56.378 12.0402 56.606 12.7302C56.84 13.4142 56.957 14.2062 56.957 15.1062C56.957 16.1802 56.789 17.0652 56.453 17.7612C56.117 18.4572 55.685 18.9732 55.157 19.3092C54.629 19.6452 54.077 19.8132 53.501 19.8132C53.117 19.8132 52.754 19.7592 52.412 19.6512C52.076 19.5372 51.752 19.3932 51.44 19.2192V22.3512C51.44 22.7652 51.368 23.0652 51.224 23.2512C51.086 23.4432 50.822 23.5392 50.432 23.5392H49.73L49.613 23.4222V10.8132L49.73 10.6962H50.297ZM53.429 12.0912C53.105 12.0912 52.763 12.1872 52.403 12.3792C52.043 12.5652 51.722 12.8622 51.44 13.2702V17.6622C51.716 17.8422 52.007 17.9982 52.313 18.1302C52.619 18.2622 52.931 18.3282 53.249 18.3282C53.753 18.3282 54.179 18.0672 54.527 17.5452C54.881 17.0172 55.058 16.2042 55.058 15.1062C55.058 14.0322 54.896 13.2612 54.572 12.7932C54.248 12.3252 53.867 12.0912 53.429 12.0912ZM66.0429 11.6142C66.0429 11.1582 65.9679 10.7052 65.8179 10.2552C65.6739 9.80525 65.4189 9.43325 65.0529 9.13925C64.6869 8.83925 64.1799 8.68925 63.5319 8.68925C62.5839 8.68925 61.8669 9.10625 61.3809 9.94025C60.9009 10.7682 60.6609 11.9802 60.6609 13.5762C60.6609 15.0642 60.9249 16.2102 61.4529 17.0142C61.9809 17.8182 62.7099 18.2202 63.6399 18.2202C64.1979 18.2202 64.7439 18.1032 65.2779 17.8692C65.8119 17.6292 66.3369 17.2902 66.8529 16.8522C67.0629 16.9902 67.2609 17.1762 67.4469 17.4102C67.6329 17.6442 67.7529 17.8722 67.8069 18.0942C67.3149 18.5922 66.6729 19.0182 65.8809 19.3722C65.0949 19.7202 64.2429 19.8942 63.3249 19.8942C62.4609 19.8942 61.7289 19.7172 61.1289 19.3632C60.5349 19.0092 60.0549 18.5322 59.6889 17.9322C59.3229 17.3262 59.0559 16.6482 58.8879 15.8982C58.7259 15.1422 58.6449 14.3652 58.6449 13.5672C58.6449 12.0732 58.8699 10.8522 59.3199 9.90425C59.7759 8.95625 60.3759 8.25725 61.1199 7.80725C61.8699 7.35125 62.6859 7.12325 63.5679 7.12325C64.4619 7.12325 65.2329 7.29125 65.8809 7.62725C66.5289 7.95725 67.0299 8.39225 67.3839 8.93225C67.7379 9.46625 67.9149 10.0362 67.9149 10.6422C67.9149 10.9722 67.8309 11.2362 67.6629 11.4342C67.4949 11.6322 67.2159 11.7312 66.8259 11.7312C66.6819 11.7312 66.5499 11.7222 66.4299 11.7042C66.3159 11.6862 66.1869 11.6562 66.0429 11.6142ZM77.0621 15.2142C77.0621 16.1382 76.9151 16.9512 76.6211 17.6532C76.3271 18.3552 75.8921 18.9042 75.3161 19.3002C74.7401 19.6962 74.0231 19.8942 73.1651 19.8942C72.3131 19.8942 71.5991 19.6962 71.0231 19.3002C70.4471 18.8982 70.0121 18.3462 69.7181 17.6442C69.4301 16.9362 69.2861 16.1262 69.2861 15.2142C69.2861 14.3022 69.4331 13.4952 69.7271 12.7932C70.0211 12.0852 70.4561 11.5332 71.0321 11.1372C71.6081 10.7412 72.3191 10.5432 73.1651 10.5432C74.0291 10.5432 74.7491 10.7442 75.3251 11.1462C75.9011 11.5422 76.3331 12.0942 76.6211 12.8022C76.9151 13.5042 77.0621 14.3082 77.0621 15.2142ZM71.2031 15.2142C71.2031 15.7782 71.2601 16.3092 71.3741 16.8072C71.4881 17.2992 71.6891 17.7012 71.9771 18.0132C72.2651 18.3192 72.6671 18.4722 73.1831 18.4722C73.6931 18.4722 74.0891 18.3192 74.3711 18.0132C74.6591 17.7012 74.8601 17.2992 74.9741 16.8072C75.0881 16.3092 75.1451 15.7782 75.1451 15.2142C75.1451 14.6622 75.0881 14.1372 74.9741 13.6392C74.8601 13.1412 74.6591 12.7362 74.3711 12.4242C74.0891 12.1122 73.6931 11.9562 73.1831 11.9562C72.6671 11.9562 72.2651 12.1122 71.9771 12.4242C71.6891 12.7362 71.4881 13.1412 71.3741 13.6392C71.2601 14.1372 71.2031 14.6622 71.2031 15.2142ZM78.6287 17.2392C78.6287 16.5552 78.7787 15.9942 79.0787 15.5562C79.3847 15.1182 79.7957 14.7942 80.3117 14.5842C80.8337 14.3682 81.4187 14.2602 82.0667 14.2602C82.3187 14.2602 82.5947 14.2692 82.8947 14.2872C83.2007 14.2992 83.5037 14.3262 83.8037 14.3682V13.6752C83.8037 13.1112 83.6747 12.7062 83.4167 12.4602C83.1587 12.2142 82.7987 12.0912 82.3367 12.0912C81.8807 12.0912 81.4097 12.1602 80.9237 12.2982C80.4437 12.4302 79.9697 12.5892 79.5017 12.7752C79.3517 12.6252 79.2257 12.4212 79.1237 12.1632C79.0217 11.8992 78.9647 11.6472 78.9527 11.4072C79.4627 11.1912 80.0597 10.9992 80.7437 10.8312C81.4337 10.6632 82.0847 10.5792 82.6967 10.5792C83.5787 10.5792 84.2897 10.8252 84.8297 11.3172C85.3697 11.8092 85.6397 12.5712 85.6397 13.6032V17.2932C85.6397 17.6292 85.6697 17.9262 85.7297 18.1842C85.7957 18.4362 85.9337 18.6522 86.1437 18.8322C86.0897 19.0002 85.9967 19.1802 85.8647 19.3722C85.7327 19.5582 85.5917 19.6992 85.4417 19.7952C85.0697 19.7232 84.7667 19.5852 84.5327 19.3812C84.3047 19.1772 84.1307 18.9372 84.0107 18.6612C83.6867 18.9732 83.2967 19.2582 82.8407 19.5162C82.3847 19.7682 81.8627 19.8942 81.2747 19.8942C80.6807 19.8942 80.1857 19.7622 79.7897 19.4982C79.3997 19.2342 79.1087 18.8982 78.9167 18.4902C78.7247 18.0822 78.6287 17.6652 78.6287 17.2392ZM80.4737 17.1132C80.4737 17.4792 80.5787 17.7912 80.7887 18.0492C80.9987 18.3012 81.2987 18.4272 81.6887 18.4272C82.0247 18.4272 82.3817 18.3342 82.7597 18.1482C83.1377 17.9622 83.4857 17.6892 83.8037 17.3292V15.6282C83.5337 15.5982 83.2577 15.5772 82.9757 15.5652C82.6997 15.5532 82.4357 15.5472 82.1837 15.5472C81.6377 15.5472 81.2147 15.6852 80.9147 15.9612C80.6207 16.2372 80.4737 16.6212 80.4737 17.1132ZM92.8247 14.2062C92.8367 13.8162 92.8007 13.4532 92.7167 13.1172C92.6387 12.7752 92.4827 12.4992 92.2487 12.2892C92.0147 12.0732 91.6787 11.9652 91.2407 11.9652C90.6707 11.9652 90.2267 12.2412 89.9087 12.7932C89.5967 13.3452 89.4407 14.1702 89.4407 15.2682C89.4407 16.3482 89.6177 17.1372 89.9717 17.6352C90.3257 18.1272 90.8267 18.3732 91.4747 18.3732C91.8827 18.3732 92.2697 18.2802 92.6357 18.0942C93.0017 17.9022 93.3437 17.6892 93.6617 17.4552C93.8237 17.5572 93.9827 17.7192 94.1387 17.9412C94.3007 18.1572 94.4027 18.3672 94.4447 18.5712C94.0367 18.9672 93.5537 19.2882 92.9957 19.5342C92.4377 19.7742 91.8377 19.8942 91.1957 19.8942C90.3377 19.8942 89.6357 19.6812 89.0897 19.2552C88.5497 18.8292 88.1507 18.2652 87.8927 17.5632C87.6407 16.8612 87.5147 16.0962 87.5147 15.2682C87.5147 14.1582 87.6947 13.2552 88.0547 12.5592C88.4207 11.8632 88.8917 11.3532 89.4677 11.0292C90.0437 10.7052 90.6497 10.5432 91.2857 10.5432C92.0177 10.5432 92.6237 10.6842 93.1037 10.9662C93.5837 11.2422 93.9437 11.5902 94.1837 12.0102C94.4237 12.4242 94.5437 12.8382 94.5437 13.2522C94.5437 13.5702 94.4687 13.8222 94.3187 14.0082C94.1687 14.1942 93.9287 14.2872 93.5987 14.2872C93.3407 14.2872 93.0827 14.2602 92.8247 14.2062ZM98.4173 19.6602C98.1653 19.7082 97.8623 19.7322 97.5083 19.7322C97.1723 19.7322 96.8693 19.7082 96.5993 19.6602V6.53825L96.7163 6.42125H97.4183C97.8083 6.42125 98.0723 6.51725 98.2103 6.70925C98.3483 6.89525 98.4173 7.19525 98.4173 7.60925V11.8032C98.8073 11.4612 99.2453 11.1792 99.7313 10.9572C100.223 10.7352 100.736 10.6242 101.27 10.6242C101.828 10.6242 102.281 10.7562 102.629 11.0202C102.983 11.2782 103.241 11.6322 103.403 12.0822C103.571 12.5262 103.655 13.0242 103.655 13.5762V17.7612C103.655 18.0732 103.676 18.3702 103.718 18.6522C103.76 18.9282 103.838 19.1712 103.952 19.3812C103.814 19.4952 103.64 19.5882 103.43 19.6602C103.226 19.7382 103.01 19.7772 102.782 19.7772C102.422 19.7772 102.167 19.6782 102.017 19.4802C101.873 19.2822 101.801 18.9882 101.801 18.5982V14.0262C101.801 13.4262 101.723 12.9912 101.567 12.7212C101.411 12.4452 101.114 12.3072 100.676 12.3072C100.322 12.3072 99.9383 12.4062 99.5243 12.6042C99.1103 12.7962 98.7413 13.0662 98.4173 13.4142V19.6602Z" fill="black"/>
                                <g clip-path="url(#clip0_14_1974)">
                                <path d="M17.8634 6.5652L13.5333 9.0652L12.4298 7.15385C12.2569 6.85447 11.8754 6.75224 11.576 6.92509L4.67488 10.9095L4.28425 10.2329C4.24129 10.1585 4.14524 10.1327 4.07081 10.1757L3.1236 10.7226C3.04917 10.7655 3.02344 10.8616 3.06641 10.936L10.7227 24.197C10.7656 24.2714 10.8617 24.2972 10.9361 24.2542L11.8833 23.7073C11.9577 23.6644 11.9835 23.5683 11.9405 23.4939L9.36238 19.0285L13.5572 16.6066L14.6607 18.5179C14.8336 18.8173 15.2151 18.9195 15.5145 18.7467L22.5509 14.6842C22.8503 14.5113 22.9525 14.1298 22.7797 13.8304L18.7172 6.79397C18.5443 6.49458 18.1628 6.39235 17.8634 6.5652ZM8.65925 17.8106L5.378 12.1273L11.6026 8.53356L14.8838 14.2169L8.65925 17.8106ZM21.1712 13.857L15.4879 17.1382L14.775 15.9035L16.6695 14.8097C16.7439 14.7667 16.7696 14.6707 16.7267 14.5963L14.2364 10.283L17.89 8.17367L21.1712 13.857Z" fill="#1D293F"/>
                                </g>
                                <defs>
                                <clipPath id="clip0_14_1974">
                                <rect width="20" height="20" fill="white" transform="translate(0 10) rotate(-30)"/>
                                </clipPath>
                                </defs>
                                </svg>
                        <form action="/auth/create/user" method="post" style="margin-top:20px">
                            <div class="label">
                            <span style="color:red">*</span>
                            <label>Full Name</label></div>

                            <div style="margin-bottom: 20px">
                                    <input type="text" style="margin-bottom: 5px" onblur="showmsg()" onfocus="hidemsg(event)" name="name" placeholder="Full Name"  class="input name"/>
                                    <label class="errorMsg nameError" style="color : red;">
                                     Name cannot be empty
                                    </label>
                                    </div>

                            <div class="label">
                            <span style="color:red">*</span>
                            <label>Work Email</label></div>

                            <div style="margin-bottom: 20px">
                                    <input type="email" style="margin-bottom: 5px"  name="email" placeholder="Work Email"  class="input email" readonly value=<%= email || "" %>></input>
                                    <label class="errorMsg emailError" style="color : red;">
                                        Email cannot be empty
                                    </label>
                                    </div>

                            

                            <div class="label">
                            <span style="color:red">*</span>
                            <label>Password</label></div>

                            <div >
                                    <input type="password" style="margin-bottom: 5px" onblur="showmsg()" onfocus="hidemsg(event)"  name="password" placeholder="Password"  class="input marginBtm0 password"/>
                                    <label class="errorMsg pwdError" style="color : red">Password cannot be empty</label>
                                </div>
                            
                            
                            <p class="info">Use atleast 6 characters, should have atleast one uppercase letter and a number</p>
                            <button type="submit" class="signinBtn">
                                <span class="btnText">Submit</span>
                            </button>
                    </form>
                    </div>             
                </div>

        </div>
    </div>

    <script>
        const name = document.getElementsByClassName('name')[0];
        const password = document.getElementsByClassName('password')[0];
         var reg = /^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)[A-Za-z\d[\]{};:=<>_+^#$@!%*?&]{6,}$/;
        document.getElementsByClassName('signinBtn')[0].disabled = true;
        const length = document.getElementsByClassName('input').length;

        function showmsg() {
                const passwordValue = password.value;
                const passwordLen = password.value.length;
                const nameValue = name.value;
                const nameLen = name.value.length;
                
                let reg = /^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)[A-Za-z\d[\]{};:=<>_+^#$@!%*?&]{6,}$/;
             
                
                if((nameLen == 0) || (nameValue == "undefined")) {
                    document.getElementsByClassName('nameError')[0].style.display="block";
                } 
                if((passwordLen == 0) || (passwordValue == "undefined") ||
                (!reg.test(passwordValue))) {
                    console.log("password");
                    document.getElementsByClassName('pwdError')[0].style.display="block";
                }

            }

            function hidemsg(event) {
                event.target.nextElementSibling.style.display = "none";
            }
        
        for(i=0;i<length;i++) {
        document.getElementsByClassName("input")[i].oninput = function enableBtn() {
            const nameLen = name.value.length;
            const nameValue = name.value;
            const passwordValue = password.value;
            const passwordLen = password.value.length;
            
            console.log("called");
            console.log(nameLen, passwordValue);
            if((nameLen == 0 || nameValue == "undefined") ||
              (!reg.test(passwordValue)) || (passwordLen == 0)) {
                document.getElementsByClassName('signinBtn')[0].disabled = true;
                document.getElementsByClassName('signinBtn')[0].classList.remove("enabled");

            } else if((nameLen > 0) && (passwordLen > 0) && (reg.test(passwordValue))) {
                document.getElementsByClassName('signinBtn')[0].disabled = false;
                document.getElementsByClassName('signinBtn')[0].classList.add("enabled");
            }
        };
    }    
    </script>

</body>
</html>

  
